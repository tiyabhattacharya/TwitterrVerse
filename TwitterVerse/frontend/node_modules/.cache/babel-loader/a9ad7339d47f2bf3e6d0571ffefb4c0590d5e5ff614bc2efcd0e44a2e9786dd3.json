{"ast":null,"code":"// import React, { useState } from \"react\";\n// import \"./TweetBox.css\";\n// import { Avatar, Button } from \"@mui/material\";\n// import AddPhotoAlternateIcon from '@mui/icons-material/AddPhotoAlternateOutlined';\n// import axios from \"axios\";\n// import useLoggedInUser from \"../../../hooks/useLoggedInUser\";\n// //import { useUserAuth } from \"../../../context/UserAuthContext\";\n// import { useAuthState } from \"react-firebase-hooks/auth\";\n\n// function TweetBox() {\n//     const [post, setPost] = useState('');\n//     const [imageURL, setImageURL] = useState('');\n//     const [isLoading, setIsLoading] = useState('');\n//     const [name, setName] = useState('');\n//     const [username, setUsername] = useState(' ');\n//     const [loggedInUser] = useLoggedInUser();\n//    const [user]  = useAuthState();\n//     const email = user?.email;\n\n//     //console.log(loggedInUser);\n\n//     const userProfilePic = loggedInUser[0]?.profileImage ? loggedInUser[0]?.profileImage : \"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\"\n\n//     const handleUploadImage=(e)=>{\n//         setIsLoading(true);\n//        const image=e.target.files[0];\n//        const formData = new FormData();\n//        formData.set('image',image)\n\n//        axios.post(\"https://api.imgbb.com/1/upload?key=ce2e4d1f58f22cdab08d0a12bec54f73\", formData)\n//        .then(res=>{\n//         setImageURL(res.data.data.display_url)\n//         console.log(res.data.data.display_url)\n//         setIsLoading(false);\n\n//        })\n//        .catch((error)=>{\n//         console.log(error);\n//         setIsLoading(false);\n//        })\n//     }\n\n// const handleTweet = (e) => {\n//     e.preventDefault();\n//     if(imageURL){\n//         const userPost={\n//             post:post,\n//             photo:imageURL\n//         }\n//         //console.log(userPost);\n\n//         fetch(`http://localhost:5000/post`,{\n//             method:\"POST\",\n//             headers:{\n//                 'content-type':'application/json'\n//             },\n//             body:JSON.stringify(userPost)\n\n//         })\n//          .then(res=>res.json())\n//          .then(data=>{\n//             console.log(data);\n//          })\n\n//     }\n//  };\n\n//     const handleTweet = (e) => {\n//         e.preventDefault();\n\n//         if (user.providerData[0].providerId === 'password') {\n//             fetch(`https://localhost:5000/loggedInUser?email=${email}`)\n//                 .then(res => res.json())\n//                 .then(data => {\n//                     setName(data[0]?.name)\n//                     setUsername(data[0]?.username)\n//                 })\n//         }\n//         else {\n//             setName(user?.displayName)\n//             setUsername(email?.split('@')[0])\n//         }\n\n//         if (name) {\n//             const userPost = {\n//                 profilePhoto: userProfilePic,\n//                 post: post,\n//                 photo: imageURL,\n//                 username: username,\n//                 name: name,\n//                 email: email,\n//             }\n//             //console.log(userPost);\n//             setPost('')\n//             setImageURL('')\n\n//             fetch('https://localhost:5000/post', {\n//                 method: \"POST\",\n//                 headers: {\n//                     'content-type': 'application/json'\n//                 },\n//                 body: JSON.stringify(userPost),\n//             })\n//                 .then(res => res.json())\n//                 .then(data => {\n//                     console.log(data);\n\n//                 })\n//         }\n//     }\n\n//     return (\n//         <div className=\"tweetBox\">\n//             <form onSubmit={handleTweet}>\n//                 <div className=\"tweetBox__input\">\n//                     <Avatar src=\"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\" />\n//                     <input\n//                         type=\"text\"\n//                         placeholder=\"What's happening?\"\n//                         onChange={(e) => setPost(e.target.value)}\n//                          value={post}\n//                          required\n//                     />\n//                 </div>\n\n//                 <div className=\"imageIcon_tweetButton\">\n//                     <label htmlFor='image' className=\"imageIcon\">\n//                         {\n//                            isLoading?<p>Uploading image</p> :<p>{imageURL ? 'image uploaded' : <AddPhotoAlternateIcon/>}</p>\n//                         }\n//                     </label>\n//                     <input\n//                         type=\"file\"\n//                         id='image'\n//                         className=\"imageInput\"\n//                         onChange={handleUploadImage}\n//                     />\n//                     <Button className=\"tweetBox__tweetButton\" type=\"submit\">Tweet</Button>\n//                 </div>\n//             </form>\n//         </div>\n//     );\n// }\n\n// export default TweetBox;","map":{"version":3,"names":[],"sources":["C:/Users/master/OneDrive/Desktop/TwitterrVerse/TwitterVerse/frontend/src/pages/Feed/TweetBox/TweetBox.js"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import \"./TweetBox.css\";\r\n// import { Avatar, Button } from \"@mui/material\";\r\n// import AddPhotoAlternateIcon from '@mui/icons-material/AddPhotoAlternateOutlined';\r\n// import axios from \"axios\";\r\n// import useLoggedInUser from \"../../../hooks/useLoggedInUser\";\r\n// //import { useUserAuth } from \"../../../context/UserAuthContext\";\r\n// import { useAuthState } from \"react-firebase-hooks/auth\";\r\n\r\n// function TweetBox() {\r\n//     const [post, setPost] = useState('');\r\n//     const [imageURL, setImageURL] = useState('');\r\n//     const [isLoading, setIsLoading] = useState('');\r\n//     const [name, setName] = useState('');\r\n//     const [username, setUsername] = useState(' ');\r\n//     const [loggedInUser] = useLoggedInUser();\r\n//    const [user]  = useAuthState();\r\n//     const email = user?.email;\r\n\r\n    \r\n//     //console.log(loggedInUser);\r\n\r\n//     const userProfilePic = loggedInUser[0]?.profileImage ? loggedInUser[0]?.profileImage : \"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\"\r\n\r\n//     const handleUploadImage=(e)=>{\r\n//         setIsLoading(true);\r\n//        const image=e.target.files[0];\r\n//        const formData = new FormData();\r\n//        formData.set('image',image)\r\n\r\n//        axios.post(\"https://api.imgbb.com/1/upload?key=ce2e4d1f58f22cdab08d0a12bec54f73\", formData)\r\n//        .then(res=>{\r\n//         setImageURL(res.data.data.display_url)\r\n//         console.log(res.data.data.display_url)\r\n//         setIsLoading(false);\r\n\r\n//        })\r\n//        .catch((error)=>{\r\n//         console.log(error);\r\n//         setIsLoading(false);\r\n//        })\r\n//     }\r\n\r\n    // const handleTweet = (e) => {\r\n    //     e.preventDefault();\r\n    //     if(imageURL){\r\n    //         const userPost={\r\n    //             post:post,\r\n    //             photo:imageURL\r\n    //         }\r\n    //         //console.log(userPost);\r\n\r\n    //         fetch(`http://localhost:5000/post`,{\r\n    //             method:\"POST\",\r\n    //             headers:{\r\n    //                 'content-type':'application/json'\r\n    //             },\r\n    //             body:JSON.stringify(userPost)\r\n                \r\n    //         })\r\n    //          .then(res=>res.json())\r\n    //          .then(data=>{\r\n    //             console.log(data);\r\n    //          })\r\n            \r\n    //     }\r\n    //  };\r\n\r\n//     const handleTweet = (e) => {\r\n//         e.preventDefault();\r\n\r\n//         if (user.providerData[0].providerId === 'password') {\r\n//             fetch(`https://localhost:5000/loggedInUser?email=${email}`)\r\n//                 .then(res => res.json())\r\n//                 .then(data => {\r\n//                     setName(data[0]?.name)\r\n//                     setUsername(data[0]?.username)\r\n//                 })\r\n//         }\r\n//         else {\r\n//             setName(user?.displayName)\r\n//             setUsername(email?.split('@')[0])\r\n//         }\r\n\r\n//         if (name) {\r\n//             const userPost = {\r\n//                 profilePhoto: userProfilePic,\r\n//                 post: post,\r\n//                 photo: imageURL,\r\n//                 username: username,\r\n//                 name: name,\r\n//                 email: email,\r\n//             }\r\n//             //console.log(userPost);\r\n//             setPost('')\r\n//             setImageURL('')\r\n\r\n//             fetch('https://localhost:5000/post', {\r\n//                 method: \"POST\",\r\n//                 headers: {\r\n//                     'content-type': 'application/json'\r\n//                 },\r\n//                 body: JSON.stringify(userPost),\r\n//             })\r\n//                 .then(res => res.json())\r\n//                 .then(data => {\r\n//                     console.log(data);\r\n\r\n//                 })\r\n//         }\r\n//     }\r\n\r\n//     return (\r\n//         <div className=\"tweetBox\">\r\n//             <form onSubmit={handleTweet}>\r\n//                 <div className=\"tweetBox__input\">\r\n//                     <Avatar src=\"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\" />\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         placeholder=\"What's happening?\"\r\n//                         onChange={(e) => setPost(e.target.value)}\r\n//                          value={post}\r\n//                          required\r\n//                     />\r\n//                 </div>\r\n\r\n//                 <div className=\"imageIcon_tweetButton\">\r\n//                     <label htmlFor='image' className=\"imageIcon\">\r\n//                         {\r\n//                            isLoading?<p>Uploading image</p> :<p>{imageURL ? 'image uploaded' : <AddPhotoAlternateIcon/>}</p>\r\n//                         }\r\n//                     </label>\r\n//                     <input\r\n//                         type=\"file\"\r\n//                         id='image'\r\n//                         className=\"imageInput\"\r\n//                         onChange={handleUploadImage}\r\n//                     />\r\n//                     <Button className=\"tweetBox__tweetButton\" type=\"submit\">Tweet</Button>\r\n//                 </div>\r\n//             </form>\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n// export default TweetBox;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}